<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0"
          xmlns:granite="http://www.adobe.com/jcr/granite/1.0"
          xmlns:cq="http://www.day.com/jcr/cq/1.0"
          xmlns:jcr="http://www.jcp.org/jcr/1.0"
          xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
          jcr:primaryType="cq:Page">
    <jcr:content
            jcr:mixinTypes="[sling:VanityPath]"
            jcr:primaryType="nt:unstructured"
            jcr:title="EToolbox Query Kit"
            sling:vanityPath="/etoolbox-query-kit"
            sling:resourceType="granite/ui/components/shell/page"
            targetCollection=".eqk-ui">
        <head jcr:primaryType="nt:unstructured">
            <clientlibs
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/includeclientlibs"
                    categories="[cq.common.wcm,cq.listview.coral.columns.personalization,cq.siteadmin.admin.page.row,cq.gui.coral.common.admin.references,cq.screens.dcc,etoolbox-query-kit]"/>
        </head>
        <title
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/text"
                text="Query Console"/>
        <actions jcr:primaryType="nt:unstructured">
            <primary jcr:primaryType="nt:unstructured">
                <new
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/pulldown"
                        granite:id="pulldownNew"
                        text="New"
                        variant="primary">
                    <datasource jcr:primaryType="nt:unstructured"
                                sling:resourceType="/apps/etoolbox-query-kit/datasources/dialog"/>
                </new>
                <open
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/pulldown"
                        granite:id="pulldownOpen"
                        icon="open"
                        text="Open"
                        variant="actionBar">
                    <items jcr:primaryType="nt:unstructured">
                        <saved
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                                granite:id="btnOpenSaved"
                                target=".eqk-ui"
                                action="foundation.dialog"
                                text="Saved...">
                            <data jcr:primaryType="nt:unstructured"
                                  nesting="hide"
                                  src.url="/mnt/overlay/etoolbox-query-kit/console/dialogs/saved-queries.html"/>
                        </saved>
                        <lastSuccessful
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                                granite:id="btnOpenLastSuccessful"
                                target=".eqk-ui"
                                action="foundation.dialog"
                                text="Last Successful...">
                            <data jcr:primaryType="nt:unstructured"
                                  nesting="hide"
                                  src.url="/mnt/overlay/etoolbox-query-kit/console/dialogs/successful-queries.html"/>
                        </lastSuccessful>
                    </items>
                </open>
                <tools
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/pulldown"
                        granite:id="pulldownTools"
                        icon="actions"
                        text="Tools"
                        variant="actionBar">
                    <items jcr:primaryType="nt:unstructured">
                        <settings
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                                granite:id="btnOpenSettings"
                                target=".eqk-ui"
                                action="foundation.dialog"
                                text="Settings...">
                            <data jcr:primaryType="nt:unstructured"
                                  nesting="hide"
                                  src.url="/mnt/overlay/etoolbox-query-kit/console/dialogs/settings.html"/>
                        </settings>
                    </items>
                </tools>
            </primary>
            <secondary jcr:primaryType="nt:unstructured">
                <exportHtml
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/button"
                        granite:id="btnExportHtml"
                        icon="fileHTML"
                        text="HTML"
                        variant="actionBar"/>
                <exportCsv
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/button"
                        granite:id="btnExportCsv"
                        icon="fileExcel"
                        text="Spreadsheet"
                        variant="actionBar"/>
                <exportJson
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/button"
                        granite:id="btnExportJson"
                        icon="fileJson"
                        text="JSON"
                        variant="actionBar"/>
            </secondary>
        </actions>
        <content
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/container"
                margin="{Boolean}true">
            <items jcr:primaryType="nt:unstructured">
                <columns
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/fixedcolumns"
                        granite:class="eqk-ui"
                        margin="{Boolean}true">
                    <items jcr:primaryType="nt:unstructured">
                        <form
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/form"
                                granite:class="in-row"
                                granite:id="queryForm"
                                autocomplete="{Boolean}true"
                                method="post"
                                action="/apps/etoolbox-query-kit/services/query"
                                foundationForm="{Boolean}true">
                            <items jcr:primaryType="nt:unstructured">
                                <mode-container
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/container"
                                        granite:class="buttons-query-editor">
                                    <items jcr:primaryType="nt:unstructured">
                                        <modes
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/buttongroup"
                                                required="{Boolean}true"
                                                selectionMode="single">
                                            <items jcr:primaryType="nt:unstructured">
                                                <editor
                                                        jcr:primaryType="nt:unstructured"
                                                        text="Editor"
                                                        value="editor"/>
                                                <constructor
                                                        jcr:primaryType="nt:unstructured"
                                                        text="Constructor"
                                                        value="constructor"/>
                                            </items>
                                        </modes>
                                    </items>
                                </mode-container>
                                <query
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/form/textarea"
                                        granite:class="codemirror-textarea"
                                        granite:id="queryTextArea"
                                        autocomplete="on"
                                        name="q_query"/>
                                <offset
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/foundation/form/hidden"
                                        name="q_offset"
                                        value="0"/>
                                <limit
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/foundation/form/hidden"
                                        granite:id="limitInput"
                                        name="q_limit"
                                        value="10"/>
                                <buttons
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/container"
                                        granite:class="buttons-query-editor"
                                        margin="{Boolean}true">
                                    <items jcr:primaryType="nt:unstructured">
                                        <submit
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/foundation/button"
                                                granite:id="executeButton"
                                                type="submit"
                                                variant="primary"
                                                text="Execute"/>
                                        <save
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/foundation/button"
                                                granite:id="saveButton"
                                                variant="secondary"
                                                text="Save"/>
                                    </items>
                                </buttons>
                            </items>
                        </form>
                        <result-table
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/container"
                                granite:id="resultContainer"
                                granite:class="in-row">
                        </result-table>
                    </items>
                </columns>
            </items>
        </content>
    </jcr:content>
    <dialogs/>
</jcr:root>