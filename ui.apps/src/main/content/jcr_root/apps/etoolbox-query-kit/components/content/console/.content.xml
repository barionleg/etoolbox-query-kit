<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:granite="http://www.adobe.com/jcr/granite/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
          jcr:primaryType="cq:Page">
    <jcr:content
            jcr:mixinTypes="[sling:VanityPath]"
            jcr:primaryType="nt:unstructured"
            jcr:title="Exadel Query Kit for AEM"
            sling:vanityPath="/etoolbox-query-kit"
            consoleId="cq-etoolbox-query-kit"
            sling:resourceType="granite/ui/components/shell/page">
        <head jcr:primaryType="nt:unstructured">
            <clientlibs
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/includeclientlibs"
                    categories="[cq.common.wcm,cq.listview.coral.columns.personalization,cq.siteadmin.admin.page.row,cq.gui.coral.common.admin.references,cq.screens.dcc,etoolbox-query-kit]"/>
        </head>
        <title
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/text"
                text="Query converter"/>
        <actions jcr:primaryType="nt:unstructured">
            <secondary jcr:primaryType="nt:unstructured">
                <showsaved
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                        action="foundation.dialog.query"
                        icon="servers"
                        text="Queries"
                        variant="actionBar">
                    <data
                            jcr:primaryType="nt:unstructured"
                            nesting="hide"
                            src.uritemplate="/apps/etoolbox-query-kit/components/content/console/editqueriesdialog.html"/>
                </showsaved>
                <save
                        jcr:primaryType="nt:unstructured"
                        granite:id="saveButton"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                        icon="starStroke"
                        text="Save"
                        variant="actionBar"/>
            </secondary>
        </actions>
        <content
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/container"
                granite:id="queristerContent"
                margin="{Boolean}true">
            <items jcr:primaryType="nt:unstructured">
                <constructor
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/foundation/form"
                        granite:id="queryConstructor"
                        autocomplete="{Boolean}true"
                        method="post"
                        action="/services/etoolbox-query-kit/constructor"
                        foundationForm="{Boolean}true">
                    <items jcr:primaryType="nt:unstructured">
                        <select
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset"
                                jcr:title="SELECT: ">
                            <items jcr:primaryType="nt:unstructured">
                                <select-column
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
                                        granite:id="constructorSelect"
                                        name="select">
                                    <field
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType = "granite/ui/components/coral/foundation/container"
                                            name="column">
                                        <items jcr:primaryType="nt:unstructured">
                                            <field
                                                    jcr:primaryType="nt:unstructured"
                                                    sling:resourceType = "granite/ui/components/coral/foundation/container"
                                                    granite:class="in-row">
                                                <items jcr:primaryType="nt:unstructured">
                                                    <property
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType = "granite/ui/components/coral/foundation/form/textfield"
                                                            required="{Boolean}true"
                                                            emptyText="prop"
                                                            fieldLabel="property"
                                                            name="propertyNameSelect"/>
                                                    <column-name
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType = "granite/ui/components/coral/foundation/form/textfield"
                                                            fieldLabel="column name"
                                                            name="columnNameSelect"/>
                                                </items>
                                            </field>
                                        </items>
                                    </field>
                                </select-column>
                            </items>
                        </select>
                        <from
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset"
                                jcr:title="FROM: ">
                            <items jcr:primaryType="nt:unstructured">
                                <from-radiogroup jcr:primaryType="nt:unstructured"
                                                 sling:resourceType="granite/ui/components/coral/foundation/form/radiogroup"
                                                 granite:id="constructorFrom"
                                                 name="fromType">
                                    <items
                                            jcr:primaryType="nt:unstructured">
                                        <selector
                                                jcr:primaryType="nt:unstructured"
                                                text="Selector"
                                                value="selector"
                                                checked="{Boolean}true"/>
                                        <join
                                                jcr:primaryType="nt:unstructured"
                                                text="Join"
                                                value="join"
                                                disabled="{Boolean}true"
                                                checked="{Boolean}false"/>
                                    </items>
                                </from-radiogroup>
                                <node-type-name
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType = "granite/ui/components/coral/foundation/form/textfield"
                                        fieldLabel="node type name"
                                        name="nodeTypeNameFrom"/>
                            </items>
                        </from>
                        <where
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset"
                                jcr:title="WHERE: ">
                            <items jcr:primaryType="nt:unstructured">
                                <where-option
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
                                        granite:id="constructorWhere">
                                    <field
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType = "granite/ui/components/coral/foundation/container">
                                        <items jcr:primaryType="nt:unstructured">
                                            <field
                                                    jcr:primaryType="nt:unstructured"
                                                    sling:resourceType = "granite/ui/components/coral/foundation/container">
                                                <items jcr:primaryType="nt:unstructured">
                                                    <buttongroup
                                                            jcr:primaryType="nt:unstructured"
                                                            name="constraintsConnectors"
                                                            required="{Boolean}true"
                                                            selectionMode="single"
                                                            sling:resourceType="granite/ui/components/coral/foundation/form/buttongroup">
                                                        <items jcr:primaryType="nt:unstructured">
                                                            <and
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="AND"
                                                                    value="and"/>
                                                            <or
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="OR"
                                                                    value="or"/>
                                                        </items>
                                                    </buttongroup>
                                                    <constraint
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType="granite/ui/components/coral/foundation/form/buttongroup"
                                                            granite:id="constraintWhere"
                                                            fieldLabel="Constraints"
                                                            required="{Boolean}true"
                                                            name="constraint"
                                                            selectionMode="single">
                                                        <items jcr:primaryType="nt:unstructured">
                                                            <simplesearch
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Simple Search"
                                                                    value="simpleSearch"
                                                                    checked="{Boolean}true"/>
                                                            <contains
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="CONTAINS"
                                                                    value="fullTextSearch"/>
                                                            <issamenode
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="ISSAMENODE"
                                                                    value="sameNode"/>
                                                            <ischildnode
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="ISCHILDNODE"
                                                                    value="childNode"/>
                                                            <isdescendantnode
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="ISDESCENDANTNODE"
                                                                    value="descendantNode"/>
                                                            <name
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="NAME"
                                                                    value="name"/>
                                                            <local-name
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="LOCALNAME"
                                                                    value="localName"/>
                                                            <length
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="LENGTH"
                                                                    value="length"/>
<!--                                                            <similar-->
<!--                                                                    jcr:primaryType="nt:unstructured"-->
<!--                                                                    text="SIMILAR"-->
<!--                                                                    value="hz"/>-->
<!--                                                            <native-->
<!--                                                                    jcr:primaryType="nt:unstructured"-->
<!--                                                                    text="NATIVE"-->
<!--                                                                    value="hz"/>-->
<!--                                                            <spellcheck-->
<!--                                                                    jcr:primaryType="nt:unstructured"-->
<!--                                                                    text="SPELLCHECK"-->
<!--                                                                    value="hz"/>-->
<!--                                                            <suggest-->
<!--                                                                    jcr:primaryType="nt:unstructured"-->
<!--                                                                    text="SUGGEST"-->
<!--                                                                    value="hz"/>-->
                                                        </items>
                                                    </constraint>
                                                    <field
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType = "granite/ui/components/coral/foundation/container"
                                                            granite:class="in-row">
                                                        <items jcr:primaryType="nt:unstructured">
                                                            <property
                                                                    jcr:primaryType="nt:unstructured"
                                                                    sling:resourceType = "granite/ui/components/coral/foundation/form/textfield"
                                                                    granite:id="propertyNameWhere"
                                                                    name="propertyNameWhere"/>
                                                            <operator
                                                                    jcr:primaryType="nt:unstructured"
                                                                    sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                                                    granite:id="operatorWhere"
                                                                    name="operatorWhere">
                                                                <items jcr:primaryType="nt:unstructured">
                                                                    <equal
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="="
                                                                            value="jcr.operator.equal.to"/>
                                                                    <not-equal
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="&lt;&gt;"
                                                                            value="jcr.operator.not.equal.to"/>
                                                                    <less-than
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="&lt;"
                                                                            value="jcr.operator.less.than"/>
                                                                    <less-than-or-equal
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="&lt;="
                                                                            value="jcr.operator.less.than.or.equal.to"/>
                                                                    <greater-than
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="&gt;"
                                                                            value="jcr.operator.greater.than"/>
                                                                    <greater-than-or-equal
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="&gt;="
                                                                            value="jcr.operator.greater.than.or.equal.to"/>
                                                                    <like
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="LIKE"
                                                                            value="jcr.operator.like"/>
                                                                    <null
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="IS NULL"
                                                                            value="null"/>
                                                                    <not-null
                                                                            jcr:primaryType="nt:unstructured"
                                                                            text="IS NOT NULL"
                                                                            value="notNull"/>
                                                                </items>
                                                            </operator>
                                                            <expression
                                                                    jcr:primaryType="nt:unstructured"
                                                                    sling:resourceType = "granite/ui/components/coral/foundation/form/textfield"
                                                                    granite:id="expressionWhere"
                                                                    name="expressionWhere"/>
                                                        </items>
                                                    </field>

                                                </items>
                                            </field>
                                        </items>
                                    </field>
                                </where-option>
                            </items>
                        </where>
                        <ordering
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/fieldset"
                                jcr:title="ORDER: ">
                            <items jcr:primaryType="nt:unstructured">
                            </items>
                        </ordering>
                        <submit
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/button"
                                type="submit"
                                variant="primary"
                                text="Construct query"/>
                    </items>
                </constructor>
                <form
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/foundation/form"
                        autocomplete="{Boolean}true"
                        method="post"
                        action="/services/etoolbox-query-kit/execute"
                        granite:id="queryForm"
                        foundationForm="{Boolean}true">
                    <items jcr:primaryType="nt:unstructured">
                        <select
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                granite:id="languageSelect"
                                fieldLabel="Language: "
                                name="language">
                            <items jcr:primaryType="nt:unstructured">
                                <sql2
                                        jcr:primaryType="nt:unstructured"
                                        text="SQL2"
                                        value="SQL2"/>
                                <queryBuilder
                                        jcr:primaryType="nt:unstructured"
                                        text="Query Builder"
                                        value="queryBuilder"/>
                                <xpath
                                        jcr:primaryType="nt:unstructured"
                                        text="XPath"
                                        value="XPath"/>
                            </items>
                        </select>
                        <query
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/textarea"
                                granite:class="codemirror-textarea"
                                granite:id="queryTextArea"
                                fieldLabel="Query: "
                                resize="both"
                                autocomplete="on"
                                name="query"/>
                        <offset
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/form/hidden"
                                name="offset"
                                value="0"/>
                        <limit
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/numberfield"
                                granite:id="limitInput"
                                name="limit"
                                value="10"
                                min="1"
                                max="5000"/>
                        <submit
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/button"
                                granite:id="executeButton"
                                type="submit"
                                variant="primary"
                                text="Execute"/>
                    </items>
                </form>
            </items>
        </content>
    </jcr:content>
    <editqueriesdialog
            jcr:primaryType="nt:unstructured"
            sling:resourceType="etoolbox-query-kit/components/content/editDialog">
    </editqueriesdialog>
</jcr:root>